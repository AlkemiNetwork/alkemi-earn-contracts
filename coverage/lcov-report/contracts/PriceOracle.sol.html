<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/PriceOracle.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> PriceOracle.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/180</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/82</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/19</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/180</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">pragma solidity ^0.4.24;
&nbsp;
import "./Exponential.sol";
&nbsp;
contract ExchangeRateModel {
    function scale() external view returns (uint);
    function getExchangeRate() external view returns (uint);
    function getMaxSwingRate(uint interval) external view returns (uint);
    function getFixedInterestRate(uint interval) external view returns (uint);
    function getFixedExchangeRate(uint interval) public view returns (uint);
}
&nbsp;
contract PriceOracle is Exponential {
&nbsp;
    /**
     * @dev flag for whether or not contract is paused
     *
     */
    bool public paused;
&nbsp;
    uint public constant numBlocksPerPeriod = 240; // approximately 1 hour: 60 seconds/minute * 60 minutes/hour * 1 block/15 seconds
&nbsp;
    uint public constant maxSwingMantissa = (10 ** 17); // 0.1
&nbsp;
    /**
     * @dev Mapping of asset addresses to exchange rate information. Dynamic changes in asset prices based on exchange rates.
     *
     * map: assetAddress -&gt; ExchangeRateInfo
     */
    struct ExchangeRateInfo {
        address exchangeRateModel;
        uint exchangeRate;
        uint maxSwingRate;
        uint maxSwingDuration;
    }
    mapping(address =&gt; ExchangeRateInfo) public exchangeRates;
&nbsp;
    /**
     * @dev Mapping of asset addresses and their corresponding price in terms of Eth-Wei
     *      which is simply equal to AssetWeiPrice * 10e18. For instance, if OMG token was
     *      worth 5x Eth then the price for OMG would be 5*10e18 or Exp({mantissa: 5000000000000000000}).
     * map: assetAddress -&gt; Exp
     */
    mapping(address =&gt; Exp) public _assetPrices;
&nbsp;
<span class="fstat-no" title="function not covered" >    constructor(address _poster) public {</span>
<span class="cstat-no" title="statement not covered" >        anchorAdmin = msg.sender</span>;
<span class="cstat-no" title="statement not covered" >        poster = _poster</span>;
<span class="cstat-no" title="statement not covered" >        maxSwing = Exp({mantissa : maxSwingMantissa})</span>;
    }
&nbsp;
    /**
     * @notice Do not pay into PriceOracle
     */
<span class="fstat-no" title="function not covered" >    function() payable public {</span>
<span class="cstat-no" title="statement not covered" >        revert()</span>;
    }
&nbsp;
    enum OracleError {
        NO_ERROR,
        UNAUTHORIZED,
        FAILED_TO_SET_PRICE
    }
&nbsp;
    enum OracleFailureInfo {
        ACCEPT_ANCHOR_ADMIN_PENDING_ANCHOR_ADMIN_CHECK,
        SET_PAUSED_OWNER_CHECK,
        SET_PENDING_ANCHOR_ADMIN_OWNER_CHECK,
        SET_PENDING_ANCHOR_PERMISSION_CHECK,
        SET_PRICE_CALCULATE_SWING,
        SET_PRICE_CAP_TO_MAX,
        SET_PRICE_MAX_SWING_CHECK,
        SET_PRICE_NO_ANCHOR_PRICE_OR_INITIAL_PRICE_ZERO,
        SET_PRICE_PERMISSION_CHECK,
        SET_PRICE_ZERO_PRICE,
        SET_PRICES_PARAM_VALIDATION,
        SET_PRICE_IS_READER_ASSET
    }
&nbsp;
    /**
     * @dev `msgSender` is msg.sender; `error` corresponds to enum OracleError; `info` corresponds to enum OracleFailureInfo, and `detail` is an arbitrary
     * contract-specific code that enables us to report opaque error codes from upgradeable contracts.
     */
    event OracleFailure(address msgSender, address asset, uint error, uint info, uint detail);
&nbsp;
    /**
     * @dev use this when reporting a known error from the price oracle or a non-upgradeable collaborator
     *      Using Oracle in name because we already inherit a `fail` function from ErrorReporter.sol via Exponential.sol
     */
<span class="fstat-no" title="function not covered" >    function failOracle(address asset, OracleError err, OracleFailureInfo info) internal returns (uint) {</span>
<span class="cstat-no" title="statement not covered" >        emit OracleFailure(msg.sender, asset, uint(err), uint(info), 0);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        return uint(err);</span>
    }
&nbsp;
    /**
     * @dev Use this when reporting an error from the money market. Give the money market result as `details`
     */
<span class="fstat-no" title="function not covered" >    function failOracleWithDetails(address asset, OracleError err, OracleFailureInfo info, uint details) internal returns (uint) {</span>
<span class="cstat-no" title="statement not covered" >        emit OracleFailure(msg.sender, asset, uint(err), uint(info), details);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        return uint(err);</span>
    }
&nbsp;
    /**
     * @dev An administrator who can set the pending anchor value for assets.
     *      Set in the constructor.
     */
    address public anchorAdmin;
&nbsp;
    /**
     * @dev pending anchor administrator for this contract.
     */
    address public pendingAnchorAdmin;
&nbsp;
    /**
     * @dev Address of the price poster.
     *      Set in the constructor.
     */
    address public poster;
&nbsp;
    /**
     * @dev maxSwing the maximum allowed percentage difference between a new price and the anchor's price
     *      Set only in the constructor
     */
    Exp public maxSwing;
&nbsp;
    struct Anchor {
        // floor(block.number / numBlocksPerPeriod) + 1
        uint period;
&nbsp;
        // Price in ETH, scaled by 10**18
        uint priceMantissa;
    }
&nbsp;
    /**
     * @dev anchors by asset
     */
    mapping(address =&gt; Anchor) public anchors;
&nbsp;
    /**
     * @dev pending anchor prices by asset
     */
    mapping(address =&gt; uint) public pendingAnchors;
&nbsp;
    /**
     * @dev emitted when a pending anchor is set
     * @param asset Asset for which to set a pending anchor
     * @param oldScaledPrice if an unused pending anchor was present, its value; otherwise 0.
     * @param newScaledPrice the new scaled pending anchor price
     */
    event NewPendingAnchor(address anchorAdmin, address asset, uint oldScaledPrice, uint newScaledPrice);
&nbsp;
    /**
     * @notice provides ability to override the anchor price for an asset
     * @dev Admin function to set the anchor price for an asset
     * @param asset Asset for which to override the anchor price
     * @param newScaledPrice New anchor price
     * @return uint 0=success, otherwise a failure (see enum OracleError for details)
     */
<span class="fstat-no" title="function not covered" >    function _setPendingAnchor(address asset, uint newScaledPrice) public returns (uint) {</span>
        // Check caller = anchorAdmin. Note: Deliberately not allowing admin. They can just change anchorAdmin if desired.
<span class="cstat-no" title="statement not covered" >        if (msg.sender != anchorAdmin) {</span>
<span class="cstat-no" title="statement not covered" >            return failOracle(asset, OracleError.UNAUTHORIZED, OracleFailureInfo.SET_PENDING_ANCHOR_PERMISSION_CHECK);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        uint oldScaledPrice = pendingAnchors[asset];</span>
<span class="cstat-no" title="statement not covered" >        pendingAnchors[asset] = newScaledPrice</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        emit NewPendingAnchor(msg.sender, asset, oldScaledPrice, newScaledPrice);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        return uint(OracleError.NO_ERROR);</span>
    }
&nbsp;
    /**
     * @dev emitted for all exchangeRates changes
     */
    event SetExchangeRate(address asset, address exchangeRateModel, uint exchangeRate, uint maxSwingRate, uint maxSwingDuration);
    event SetMaxSwingRate(address asset, uint oldMaxSwingRate, uint newMaxSwingRate, uint maxSwingDuration);
&nbsp;
    /**
     * @dev emitted for all price changes
     */
    event PricePosted(address asset, uint previousPriceMantissa, uint requestedPriceMantissa, uint newPriceMantissa);
&nbsp;
    /**
     * @dev emitted if this contract successfully posts a capped-to-max price to the money market
     */
    event CappedPricePosted(address asset, uint requestedPriceMantissa, uint anchorPriceMantissa, uint cappedPriceMantissa);
&nbsp;
    /**
     * @dev emitted when admin either pauses or resumes the contract; newState is the resulting state
     */
    event SetPaused(bool newState);
&nbsp;
    /**
     * @dev emitted when pendingAnchorAdmin is changed
     */
    event NewPendingAnchorAdmin(address oldPendingAnchorAdmin, address newPendingAnchorAdmin);
&nbsp;
    /**
     * @dev emitted when pendingAnchorAdmin is accepted, which means anchor admin is updated
     */
    event NewAnchorAdmin(address oldAnchorAdmin, address newAnchorAdmin);
&nbsp;
    /**
     * @dev emitted when poster is changed
     */
    event NewPoster(address oldPoster, address newPoster);
&nbsp;
    /**
     * @notice set `paused` to the specified state
     * @dev Admin function to pause or resume the market
     * @param requestedState value to assign to `paused`
     * @return uint 0=success, otherwise a failure
     */
<span class="fstat-no" title="function not covered" >    function _setPaused(bool requestedState) public returns (uint) {</span>
        // Check caller = anchorAdmin
<span class="cstat-no" title="statement not covered" >        if (msg.sender != anchorAdmin) {</span>
<span class="cstat-no" title="statement not covered" >            return failOracle(0, OracleError.UNAUTHORIZED, OracleFailureInfo.SET_PAUSED_OWNER_CHECK);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        paused = requestedState</span>;
<span class="cstat-no" title="statement not covered" >        emit SetPaused(requestedState);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        return uint(Error.NO_ERROR);</span>
    }
&nbsp;
    /**
     * @notice Begins transfer of anchor admin rights. The newPendingAnchorAdmin must call `_acceptAnchorAdmin` to finalize the transfer.
     * @dev Admin function to begin change of anchor admin. The newPendingAnchorAdmin must call `_acceptAnchorAdmin` to finalize the transfer.
     * @param newPendingAnchorAdmin New pending anchor admin.
     * @return uint 0=success, otherwise a failure
     *
     * TODO: Should we add a second arg to verify, like a checksum of `newAnchorAdmin` address?
     */
<span class="fstat-no" title="function not covered" >    function _setPendingAnchorAdmin(address newPendingAnchorAdmin) public returns (uint) {</span>
        // Check caller = anchorAdmin
<span class="cstat-no" title="statement not covered" >        if (msg.sender != anchorAdmin) {</span>
<span class="cstat-no" title="statement not covered" >            return failOracle(0, OracleError.UNAUTHORIZED, OracleFailureInfo.SET_PENDING_ANCHOR_ADMIN_OWNER_CHECK);</span>
        }
&nbsp;
        // save current value, if any, for inclusion in log
<span class="cstat-no" title="statement not covered" >        address oldPendingAnchorAdmin = pendingAnchorAdmin;</span>
        // Store pendingAdmin = newPendingAdmin
<span class="cstat-no" title="statement not covered" >        pendingAnchorAdmin = newPendingAnchorAdmin</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        emit NewPendingAnchorAdmin(oldPendingAnchorAdmin, newPendingAnchorAdmin);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        return uint(Error.NO_ERROR);</span>
    }
&nbsp;
    /**
     * @notice Accepts transfer of anchor admin rights. msg.sender must be pendingAnchorAdmin
     * @dev Admin function for pending anchor admin to accept role and update anchor admin
     * @return uint 0=success, otherwise a failure
     */
<span class="fstat-no" title="function not covered" >    function _acceptAnchorAdmin() public returns (uint) {</span>
        // Check caller = pendingAnchorAdmin
        // msg.sender can't be zero
<span class="cstat-no" title="statement not covered" >        if (msg.sender != pendingAnchorAdmin) {</span>
<span class="cstat-no" title="statement not covered" >            return failOracle(0, OracleError.UNAUTHORIZED, OracleFailureInfo.ACCEPT_ANCHOR_ADMIN_PENDING_ANCHOR_ADMIN_CHECK);</span>
        }
&nbsp;
        // Save current value for inclusion in log
<span class="cstat-no" title="statement not covered" >        address oldAnchorAdmin = anchorAdmin;</span>
        // Store admin = pendingAnchorAdmin
<span class="cstat-no" title="statement not covered" >        anchorAdmin = pendingAnchorAdmin</span>;
        // Clear the pending value
<span class="cstat-no" title="statement not covered" >        pendingAnchorAdmin = 0</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        emit NewAnchorAdmin(oldAnchorAdmin, msg.sender);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        return uint(Error.NO_ERROR);</span>
    }
&nbsp;
    /**
     * @notice Set new poster.
     * @dev Admin function to change of poster.
     * @param newPoster New poster.
     * @return uint 0=success, otherwise a failure
     *
     * TODO: Should we add a second arg to verify, like a checksum of `newAnchorAdmin` address?
     */
<span class="fstat-no" title="function not covered" >    function _setPoster(address newPoster) public returns (uint) {</span>
<span class="cstat-no" title="statement not covered" >        assert(poster != newPoster)</span>;
        // Check caller = anchorAdmin
<span class="cstat-no" title="statement not covered" >        if (msg.sender != anchorAdmin) {</span>
<span class="cstat-no" title="statement not covered" >            return failOracle(0, OracleError.UNAUTHORIZED, OracleFailureInfo.SET_PENDING_ANCHOR_ADMIN_OWNER_CHECK);</span>
        }
&nbsp;
        // save current value, if any, for inclusion in log
<span class="cstat-no" title="statement not covered" >        address oldPoster = poster;</span>
        // Store poster = newPoster
<span class="cstat-no" title="statement not covered" >        poster = newPoster</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        emit NewPoster(oldPoster, newPoster);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        return uint(Error.NO_ERROR);</span>
    }
&nbsp;
    /**
     * @notice set new exchange rate model
     * @dev function to set exchangeRateModel for an asset
     * @param asset asset for which to set the exchangeRateModel
     * @param exchangeRateModel exchangeRateModel address, if the exchangeRateModel is address(0), cancel the exchangeRates
     * @param maxSwingDuration maxSwingDuration uint, Is a value greater than zero and less than a second of a week
     * @return uint 0=success, otherwise a failure (see enum OracleError for details)
     */
<span class="fstat-no" title="function not covered" >    function setExchangeRate(address asset, address exchangeRateModel, uint maxSwingDuration) public returns (uint) {</span>
&nbsp;
        // Fail when msg.sender is not poster
<span class="cstat-no" title="statement not covered" >        if (msg.sender != anchorAdmin) {</span>
<span class="cstat-no" title="statement not covered" >            return failOracle(asset, OracleError.UNAUTHORIZED, OracleFailureInfo.SET_PRICE_PERMISSION_CHECK);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        require(exchangeRateModel != address(0), "setExchangeRate: exchangeRateModel cannot be a zero address.")</span>;
<span class="cstat-no" title="statement not covered" >        require(</span>
            maxSwingDuration &gt; 0 &amp;&amp; maxSwingDuration &lt;= 604800,
            "setExchangeRate: maxSwingDuration cannot be zero, less than 31536000 (seconds per week)."
        );
&nbsp;
<span class="cstat-no" title="statement not covered" >        uint currentExchangeRate = ExchangeRateModel(exchangeRateModel).getExchangeRate();</span>
<span class="cstat-no" title="statement not covered" >        require(currentExchangeRate &gt; 0, "setExchangeRate: currentExchangeRate not zero.")</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        uint maxSwingRate = ExchangeRateModel(exchangeRateModel).getMaxSwingRate(maxSwingDuration);</span>
<span class="cstat-no" title="statement not covered" >        require(</span>
            maxSwingRate &gt; 0 &amp;&amp; maxSwingRate &lt;= ExchangeRateModel(exchangeRateModel).getMaxSwingRate(604800),
            "setExchangeRate: maxSwingRate cannot be zero, less than 31536000 (seconds per week)."
        );
&nbsp;
<span class="cstat-no" title="statement not covered" >        exchangeRates[asset].exchangeRateModel = exchangeRateModel</span>;
<span class="cstat-no" title="statement not covered" >        exchangeRates[asset].exchangeRate = currentExchangeRate</span>;
<span class="cstat-no" title="statement not covered" >        exchangeRates[asset].maxSwingRate = maxSwingRate</span>;
<span class="cstat-no" title="statement not covered" >        exchangeRates[asset].maxSwingDuration = maxSwingDuration</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        emit SetExchangeRate(asset, exchangeRateModel, currentExchangeRate, maxSwingRate, maxSwingDuration);</span>
<span class="cstat-no" title="statement not covered" >        return uint(OracleError.NO_ERROR);</span>
    }
&nbsp;
    /**
     * @notice set new exchange rate maxSwingRate
     * @dev function to set exchange rate maxSwingRate for an asset
     * @param asset asset for which to set the exchange rate maxSwingRate
     * @param maxSwingDuration Interval time
     * @return uint 0=success, otherwise a failure (see enum OracleError for details)
     */
<span class="fstat-no" title="function not covered" >    function setMaxSwingRate(address asset, uint maxSwingDuration) public returns (uint) {</span>
&nbsp;
        // Fail when msg.sender is not poster
<span class="cstat-no" title="statement not covered" >        if (msg.sender != anchorAdmin) {</span>
<span class="cstat-no" title="statement not covered" >            return failOracle(asset, OracleError.UNAUTHORIZED, OracleFailureInfo.SET_PRICE_PERMISSION_CHECK);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        require(</span>
            maxSwingDuration &gt; 0 &amp;&amp; maxSwingDuration &lt;= 604800,
            "setMaxSwingRate: maxSwingDuration cannot be zero, less than 31536000 (seconds per week)."
        );
&nbsp;
<span class="cstat-no" title="statement not covered" >        ExchangeRateModel exchangeRateModel = ExchangeRateModel(exchangeRates[asset].exchangeRateModel);</span>
<span class="cstat-no" title="statement not covered" >        uint newMaxSwingRate = exchangeRateModel.getMaxSwingRate(maxSwingDuration);</span>
<span class="cstat-no" title="statement not covered" >        uint oldMaxSwingRate = exchangeRates[asset].maxSwingRate;</span>
<span class="cstat-no" title="statement not covered" >        require(oldMaxSwingRate != newMaxSwingRate, "setMaxSwingRate: Old and new values cannot be the same.")</span>;
<span class="cstat-no" title="statement not covered" >        require(</span>
            newMaxSwingRate &gt; 0 &amp;&amp; newMaxSwingRate &lt;= exchangeRateModel.getMaxSwingRate(604800),
            "setMaxSwingRate: maxSwingRate cannot be zero, less than 31536000 (seconds per week)."
        );
&nbsp;
<span class="cstat-no" title="statement not covered" >        exchangeRates[asset].maxSwingRate = newMaxSwingRate</span>;
<span class="cstat-no" title="statement not covered" >        exchangeRates[asset].maxSwingDuration = maxSwingDuration</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        emit SetMaxSwingRate(asset, oldMaxSwingRate, newMaxSwingRate, maxSwingDuration);</span>
<span class="cstat-no" title="statement not covered" >        return uint(OracleError.NO_ERROR);</span>
    }
&nbsp;
    /**
     * @notice retrieves price of an asset
     * @dev function to get price for an asset
     * @param asset Asset for which to get the price
     * @return uint mantissa of asset price (scaled by 1e18) or zero if unset or contract paused
     */
<span class="fstat-no" title="function not covered" >    function assetPrices(address asset) public view returns (uint) {</span>
        // Note: zero is treated by the money market as an invalid
        //       price and will cease operations with that asset
        //       when zero.
        //
        // We get the price as:
        //
        //  1. If the contract is paused, return 0.
        //  2. If the asset has an exchange rate model, the asset price is calculated based on the exchange rate.
        //  3. Return price in `_assetPrices`, which may be zero.
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (paused) {</span>
<span class="cstat-no" title="statement not covered" >            return 0;</span>
        } else {
<span class="cstat-no" title="statement not covered" >            ExchangeRateInfo memory exchangeRateInfo = exchangeRates[asset];</span>
<span class="cstat-no" title="statement not covered" >            if (exchangeRateInfo.exchangeRateModel != address(0)) {</span>
<span class="cstat-no" title="statement not covered" >                uint scale = ExchangeRateModel(exchangeRateInfo.exchangeRateModel).scale();</span>
<span class="cstat-no" title="statement not covered" >                uint currentExchangeRate = ExchangeRateModel(exchangeRateInfo.exchangeRateModel).getExchangeRate();</span>
<span class="cstat-no" title="statement not covered" >                uint currentChangeRate;</span>
<span class="cstat-no" title="statement not covered" >                Error err;</span>
<span class="cstat-no" title="statement not covered" >                (err, currentChangeRate) = mul(currentExchangeRate, scale)</span>;
<span class="cstat-no" title="statement not covered" >                if (err != Error.NO_ERROR)</span>
<span class="cstat-no" title="statement not covered" >                    return 0;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                currentChangeRate = currentChangeRate / exchangeRateInfo.exchangeRate</span>;
                // require(currentExchangeRate &gt;= exchangeRateInfo.exchangeRate &amp;&amp; currentChangeRate &lt;= exchangeRateInfo.maxSwingRate, "assetPrices: Abnormal exchange rate.");
<span class="cstat-no" title="statement not covered" >                if (currentExchangeRate &lt; exchangeRateInfo.exchangeRate || currentChangeRate &gt; exchangeRateInfo.maxSwingRate)</span>
<span class="cstat-no" title="statement not covered" >                    return 0;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                uint price;</span>
<span class="cstat-no" title="statement not covered" >                (err, price) = mul(_assetPrices[asset].mantissa, currentExchangeRate)</span>;
<span class="cstat-no" title="statement not covered" >                if (err != Error.NO_ERROR)</span>
<span class="cstat-no" title="statement not covered" >                    return 0;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                return price / scale;</span>
            } else {
<span class="cstat-no" title="statement not covered" >                return _assetPrices[asset].mantissa;</span>
            }
        }
    }
&nbsp;
    /**
     * @notice retrieves price of an asset
     * @dev function to get price for an asset
     * @param asset Asset for which to get the price
     * @return uint mantissa of asset price (scaled by 1e18) or zero if unset or contract paused
     */
<span class="fstat-no" title="function not covered" >    function getPrice(address asset) public view returns (uint) {</span>
<span class="cstat-no" title="statement not covered" >        return assetPrices(asset);</span>
    }
&nbsp;
    struct SetPriceLocalVars {
        Exp price;
        Exp swing;
        Exp anchorPrice;
        uint anchorPeriod;
        uint currentPeriod;
        bool priceCapped;
        uint cappingAnchorPriceMantissa;
        uint pendingAnchorMantissa;
    }
&nbsp;
    /**
     * @notice entry point for updating prices
     * @dev function to set price for an asset
     * @param asset Asset for which to set the price
     * @param requestedPriceMantissa requested new price, scaled by 10**18
     * @return uint 0=success, otherwise a failure (see enum OracleError for details)
     */
<span class="fstat-no" title="function not covered" >    function setPrice(address asset, uint requestedPriceMantissa) public returns (uint) {</span>
        // Fail when msg.sender is not poster
<span class="cstat-no" title="statement not covered" >        if (msg.sender != poster) {</span>
<span class="cstat-no" title="statement not covered" >            return failOracle(asset, OracleError.UNAUTHORIZED, OracleFailureInfo.SET_PRICE_PERMISSION_CHECK);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        return setPriceInternal(asset, requestedPriceMantissa);</span>
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function setPriceInternal(address asset, uint requestedPriceMantissa) internal returns (uint) {</span>
        // re-used for intermediate errors
<span class="cstat-no" title="statement not covered" >        Error err;</span>
<span class="cstat-no" title="statement not covered" >        SetPriceLocalVars memory localVars;</span>
        // We add 1 for currentPeriod so that it can never be zero and there's no ambiguity about an unset value.
        // (It can be a problem in tests with low block numbers.)
<span class="cstat-no" title="statement not covered" >        localVars.currentPeriod = (block.number / numBlocksPerPeriod) + 1</span>;
<span class="cstat-no" title="statement not covered" >        localVars.pendingAnchorMantissa = pendingAnchors[asset]</span>;
<span class="cstat-no" title="statement not covered" >        localVars.price = Exp({mantissa : requestedPriceMantissa})</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (exchangeRates[asset].exchangeRateModel != address(0)) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            uint currentExchangeRate = ExchangeRateModel(exchangeRates[asset].exchangeRateModel).getExchangeRate();</span>
<span class="cstat-no" title="statement not covered" >            uint scale = ExchangeRateModel(exchangeRates[asset].exchangeRateModel).scale();</span>
<span class="cstat-no" title="statement not covered" >            uint currentChangeRate;</span>
<span class="cstat-no" title="statement not covered" >            (err, currentChangeRate) = mul(currentExchangeRate, scale)</span>;
<span class="cstat-no" title="statement not covered" >            assert(err == Error.NO_ERROR)</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >            currentChangeRate = currentChangeRate / exchangeRates[asset].exchangeRate</span>;
<span class="cstat-no" title="statement not covered" >            require(currentExchangeRate &gt;= exchangeRates[asset].exchangeRate &amp;&amp; currentChangeRate &lt;= exchangeRates[asset].maxSwingRate, "setPriceInternal: Abnormal exchange rate.")</span>;
<span class="cstat-no" title="statement not covered" >            exchangeRates[asset].exchangeRate = currentExchangeRate</span>;
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (localVars.pendingAnchorMantissa != 0) {</span>
            // let's explicitly set to 0 rather than relying on default of declaration
<span class="cstat-no" title="statement not covered" >            localVars.anchorPeriod = 0</span>;
<span class="cstat-no" title="statement not covered" >            localVars.anchorPrice = Exp({mantissa : localVars.pendingAnchorMantissa})</span>;
&nbsp;
            // Verify movement is within max swing of pending anchor (currently: 10%)
<span class="cstat-no" title="statement not covered" >            (err, localVars.swing) = calculateSwing(localVars.anchorPrice, localVars.price)</span>;
<span class="cstat-no" title="statement not covered" >            if (err != Error.NO_ERROR) {</span>
<span class="cstat-no" title="statement not covered" >                return failOracleWithDetails(asset, OracleError.FAILED_TO_SET_PRICE, OracleFailureInfo.SET_PRICE_CALCULATE_SWING, uint(err));</span>
            }
&nbsp;
            // Fail when swing &gt; maxSwing
<span class="cstat-no" title="statement not covered" >            if (greaterThanExp(localVars.swing, maxSwing)) {</span>
<span class="cstat-no" title="statement not covered" >                return failOracleWithDetails(asset, OracleError.FAILED_TO_SET_PRICE, OracleFailureInfo.SET_PRICE_MAX_SWING_CHECK, localVars.swing.mantissa);</span>
            }
        } else {
<span class="cstat-no" title="statement not covered" >            localVars.anchorPeriod = anchors[asset].period</span>;
<span class="cstat-no" title="statement not covered" >            localVars.anchorPrice = Exp({mantissa : anchors[asset].priceMantissa})</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (localVars.anchorPeriod != 0) {</span>
<span class="cstat-no" title="statement not covered" >                (err, localVars.priceCapped, localVars.price) = capToMax(localVars.anchorPrice, localVars.price)</span>;
<span class="cstat-no" title="statement not covered" >                if (err != Error.NO_ERROR) {</span>
<span class="cstat-no" title="statement not covered" >                    return failOracleWithDetails(asset, OracleError.FAILED_TO_SET_PRICE, OracleFailureInfo.SET_PRICE_CAP_TO_MAX, uint(err));</span>
                }
<span class="cstat-no" title="statement not covered" >                if (localVars.priceCapped) {</span>
                    // save for use in log
<span class="cstat-no" title="statement not covered" >                    localVars.cappingAnchorPriceMantissa = localVars.anchorPrice.mantissa</span>;
                }
            } else {
                // Setting first price. Accept as is (already assigned above from requestedPriceMantissa) and use as anchor
<span class="cstat-no" title="statement not covered" >                localVars.anchorPrice = Exp({mantissa : requestedPriceMantissa})</span>;
            }
        }
&nbsp;
        // Fail if anchorPrice or price is zero.
        // zero anchor represents an unexpected situation likely due to a problem in this contract
        // zero price is more likely as the result of bad input from the caller of this function
<span class="cstat-no" title="statement not covered" >        if (isZeroExp(localVars.anchorPrice)) {</span>
            // If we get here price could also be zero, but it does not seem worthwhile to distinguish the 3rd case
<span class="cstat-no" title="statement not covered" >            return failOracle(asset, OracleError.FAILED_TO_SET_PRICE, OracleFailureInfo.SET_PRICE_NO_ANCHOR_PRICE_OR_INITIAL_PRICE_ZERO);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (isZeroExp(localVars.price)) {</span>
<span class="cstat-no" title="statement not covered" >            return failOracle(asset, OracleError.FAILED_TO_SET_PRICE, OracleFailureInfo.SET_PRICE_ZERO_PRICE);</span>
        }
&nbsp;
        // BEGIN SIDE EFFECTS
&nbsp;
        // Set pendingAnchor = Nothing
        // Pending anchor is only used once.
<span class="cstat-no" title="statement not covered" >        if (pendingAnchors[asset] != 0) {</span>
<span class="cstat-no" title="statement not covered" >            pendingAnchors[asset] = 0</span>;
        }
&nbsp;
        // If currentPeriod &gt; anchorPeriod:
        //  Set anchors[asset] = (currentPeriod, price)
        //  The new anchor is if we're in a new period or we had a pending anchor, then we become the new anchor
<span class="cstat-no" title="statement not covered" >        if (localVars.currentPeriod &gt; localVars.anchorPeriod) {</span>
<span class="cstat-no" title="statement not covered" >            anchors[asset] = Anchor({period : localVars.currentPeriod, priceMantissa : localVars.price.mantissa})</span>;
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        uint previousPrice = _assetPrices[asset].mantissa;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        setPriceStorageInternal(asset, localVars.price.mantissa)</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        emit PricePosted(asset, previousPrice, requestedPriceMantissa, localVars.price.mantissa);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (localVars.priceCapped) {</span>
            // We have set a capped price. Log it so we can detect the situation and investigate.
<span class="cstat-no" title="statement not covered" >            emit CappedPricePosted(asset, requestedPriceMantissa, localVars.cappingAnchorPriceMantissa, localVars.price.mantissa);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        return uint(OracleError.NO_ERROR);</span>
    }
&nbsp;
    // As a function to allow harness overrides
<span class="fstat-no" title="function not covered" >    function setPriceStorageInternal(address asset, uint256 priceMantissa) internal {</span>
<span class="cstat-no" title="statement not covered" >        _assetPrices[asset] = Exp({mantissa: priceMantissa})</span>;
    }
&nbsp;
    // abs(price - anchorPrice) / anchorPrice
<span class="fstat-no" title="function not covered" >    function calculateSwing(Exp memory anchorPrice, Exp memory price) pure internal returns (Error, Exp memory) {</span>
<span class="cstat-no" title="statement not covered" >        Exp memory numerator;</span>
<span class="cstat-no" title="statement not covered" >        Error err;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (greaterThanExp(anchorPrice, price)) {</span>
<span class="cstat-no" title="statement not covered" >            (err, numerator) = subExp(anchorPrice, price)</span>;
            // can't underflow
<span class="cstat-no" title="statement not covered" >            assert(err == Error.NO_ERROR)</span>;
        } else {
<span class="cstat-no" title="statement not covered" >            (err, numerator) = subExp(price, anchorPrice)</span>;
            // Given greaterThan check above, price &gt;= anchorPrice so can't underflow.
<span class="cstat-no" title="statement not covered" >            assert(err == Error.NO_ERROR)</span>;
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        return divExp(numerator, anchorPrice);</span>
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function capToMax(Exp memory anchorPrice, Exp memory price) view internal returns (Error, bool, Exp memory) {</span>
<span class="cstat-no" title="statement not covered" >        Exp memory one = Exp({mantissa : mantissaOne});</span>
<span class="cstat-no" title="statement not covered" >        Exp memory onePlusMaxSwing;</span>
<span class="cstat-no" title="statement not covered" >        Exp memory oneMinusMaxSwing;</span>
<span class="cstat-no" title="statement not covered" >        Exp memory max;</span>
<span class="cstat-no" title="statement not covered" >        Exp memory min;</span>
        // re-used for intermediate errors
<span class="cstat-no" title="statement not covered" >        Error err;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        (err, onePlusMaxSwing) = addExp(one, maxSwing)</span>;
<span class="cstat-no" title="statement not covered" >        if (err != Error.NO_ERROR) {</span>
<span class="cstat-no" title="statement not covered" >            return (err, false, Exp({mantissa : 0}));</span>
        }
&nbsp;
        // max = anchorPrice * (1 + maxSwing)
<span class="cstat-no" title="statement not covered" >        (err, max) = mulExp(anchorPrice, onePlusMaxSwing)</span>;
<span class="cstat-no" title="statement not covered" >        if (err != Error.NO_ERROR) {</span>
<span class="cstat-no" title="statement not covered" >            return (err, false, Exp({mantissa : 0}));</span>
        }
&nbsp;
        // If price &gt; anchorPrice * (1 + maxSwing)
        // Set price = anchorPrice * (1 + maxSwing)
<span class="cstat-no" title="statement not covered" >        if (greaterThanExp(price, max)) {</span>
<span class="cstat-no" title="statement not covered" >            return (Error.NO_ERROR, true, max);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        (err, oneMinusMaxSwing) = subExp(one, maxSwing)</span>;
<span class="cstat-no" title="statement not covered" >        if (err != Error.NO_ERROR) {</span>
<span class="cstat-no" title="statement not covered" >            return (err, false, Exp({mantissa : 0}));</span>
        }
&nbsp;
        // min = anchorPrice * (1 - maxSwing)
<span class="cstat-no" title="statement not covered" >        (err, min) = mulExp(anchorPrice, oneMinusMaxSwing)</span>;
        // We can't overflow here or we would have already overflowed above when calculating `max`
<span class="cstat-no" title="statement not covered" >        assert(err == Error.NO_ERROR)</span>;
&nbsp;
        // If  price &lt; anchorPrice * (1 - maxSwing)
        // Set price = anchorPrice * (1 - maxSwing)
<span class="cstat-no" title="statement not covered" >        if (lessThanExp(price, min)) {</span>
<span class="cstat-no" title="statement not covered" >            return (Error.NO_ERROR, true, min);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        return (Error.NO_ERROR, false, price);</span>
    }
&nbsp;
    /**
     * @notice entry point for updating multiple prices
     * @dev function to set prices for a variable number of assets.
     * @param assets a list of up to assets for which to set a price. required: 0 &lt; assets.length == requestedPriceMantissas.length
     * @param requestedPriceMantissas requested new prices for the assets, scaled by 10**18. required: 0 &lt; assets.length == requestedPriceMantissas.length
     * @return uint values in same order as inputs. For each: 0=success, otherwise a failure (see enum OracleError for details)
     */
<span class="fstat-no" title="function not covered" >    function setPrices(address[] assets, uint[] requestedPriceMantissas) public returns (uint[] memory) {</span>
<span class="cstat-no" title="statement not covered" >        uint numAssets = assets.length;</span>
<span class="cstat-no" title="statement not covered" >        uint numPrices = requestedPriceMantissas.length;</span>
<span class="cstat-no" title="statement not covered" >        uint[] memory result;</span>
&nbsp;
        // Fail when msg.sender is not poster
<span class="cstat-no" title="statement not covered" >        if (msg.sender != poster) {</span>
<span class="cstat-no" title="statement not covered" >            result = new uint[](1)</span>;
<span class="cstat-no" title="statement not covered" >            result[0] = failOracle(0, OracleError.UNAUTHORIZED, OracleFailureInfo.SET_PRICE_PERMISSION_CHECK)</span>;
<span class="cstat-no" title="statement not covered" >            return result;</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        if ((numAssets == 0) || (numPrices != numAssets)) {</span>
<span class="cstat-no" title="statement not covered" >            result = new uint[](1)</span>;
<span class="cstat-no" title="statement not covered" >            result[0] = failOracle(0, OracleError.FAILED_TO_SET_PRICE, OracleFailureInfo.SET_PRICES_PARAM_VALIDATION)</span>;
<span class="cstat-no" title="statement not covered" >            return result;</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        result = new uint[](numAssets)</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        for (uint i = 0; i &lt; numAssets; i++) {</span>
<span class="cstat-no" title="statement not covered" >            result[i] = setPriceInternal(assets[i], requestedPriceMantissas[i])</span>;
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        return result;</span>
    }
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Apr 29 2021 17:13:05 GMT-0400 (Eastern Daylight Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
